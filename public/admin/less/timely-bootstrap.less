//
// @file
//
// Adaptation of bootstrap.less, with appropriate overrides.
//

// =============================
// = Core variables and mixins =
// =============================
@import "bootstrap/mixins.less";
@import "bootstrap/variables.less";
@import "timely-variables.less"; // Modify this for custom colors, fonts, etc.

// =========
// = Fonts =
// =========
@import url("//fonts.googleapis.com/css?family=Lato:700");
@import "timely-font-awesome.less";

// =============
// = Bootstrap =
// =============

// Reset
.timely { @import "bootstrap/normalize.less"; }

// Core CSS
.timely { @import "bootstrap/scaffolding.less"; }
.timely { @import "bootstrap/type.less"; }
.timely { @import "bootstrap/code.less"; }
@import "bootstrap/grid.less";
.timely { @import "bootstrap/tables.less"; }
.timely { @import "bootstrap/forms.less"; }
@import "bootstrap/buttons.less";

// Components
@import "bootstrap/component-animations.less";
@import "bootstrap/dropdowns.less";
@import "bootstrap/button-groups.less";
@import "bootstrap/navs.less";
@import "bootstrap/labels.less";
@import "bootstrap/jumbotron.less";
@import "bootstrap/alerts.less";
@import "bootstrap/panels.less";
@import "bootstrap/wells.less";
@import "bootstrap/close.less";

// Components w/ JavaScript
@import "bootstrap/modals.less";
@import "bootstrap/tooltip.less";
@import "bootstrap/popovers.less";

// Utility classes
@import "bootstrap/utilities.less";

// ===========
// = Select2 =
// ===========
// Select2 is well-namespaced already by its class name definitions.
@import "plugins/select2.less";

// ========================
// = Bootstrap Datepicker =
// ========================
@import "plugins/datepicker3.less";

// ==========================
// = Unnamespaced overrides =
// ==========================

//
// Bootstrap
//

// Popovers
.ai1ec-popover-title {
	font-family: @headings-font-family;
	font-size: @font-size-base * 1.25 !important;
}
.ai1ec-popover-content {
	border-radius: 0 0 4px 4px;
	p {
		margin: 0;
	}
}
.ai1ec-popover {
	ul.ai1ec-fa-ul {
		text-indent: -0.6em;
	}
}
// Dropdowns
ul.ai1ec-dropdown-menu {
	list-style: none;
	margin: 0;
	li {
		margin: 0;
	}
}
// Type
.jumbotron {
	padding: 30px;
	margin-bottom: 15px;
}
.jumbotron h1 {
	color: @headings-color;
}
// Labels
.ai1ec-label {
	vertical-align: bottom;
}
// Buttons
.ai1ec-btn-group > .ai1ec-btn-primary {
	z-index: 3;
}
// Tabs
.ai1ec-nav-tabs {
	margin-bottom: 0;
}
// Modals
.ai1ec-modal {
	text-align: left;
}
// Collapse & accordions
.ai1ec-overflow-visible {
	overflow: visible;
}
.ai1ec-panel-group {
	margin-bottom: 0;
	.ai1ec-panel {
		background-color: @body-bg;
		table {
			margin-bottom: 0;
		}
	}
}
.ai1ec-panel-heading {
	text-transform: uppercase;
	i:before {
		font-size: 1.1em;
		width: 1.25em;
		text-align: center;
	}
	a:hover {
		text-decoration: none;
	}
}

//
// Select2
//

.select2-container {
	margin-bottom: 9px;
	width: 100%;
}
.select2-choices {
	border-radius: 3px;
  .ai1ec-box-shadow( inset 0 1px 1px rgba(0,0,0,.075) );
  .select2-dropdown-open & {
  	border-radius: @input-border-radius @input-border-radius 0 0;
  }
  .select2-dropdown-open.select2-drop-above & {
  	border-radius: 0 0 @input-border-radius @input-border-radius;
  }
}
.select2-container-multi {
	.select2-choices {
		background-color: @input-bg;
		background-image: none;
		border-color: @input-border;
		.select2-search-field input {
			color: @text-color;
			&.select2-default {
				color: @input-color-placeholder !important;
			}
		}
	}
}
.select2-drop-mask {
	z-index: @zindex-dropdown - 1;
	.ai1ec-modal-open & {
		z-index: @zindex-dropdown + @zindex-modal-background - 1;
	}
}
.select2-drop {
	background-color: @body-bg;
	border-color: rgba(82,168,236,.8);
	color: @text-color;
	font-family: @font-family-base;
	font-size: @font-size-base;
	line-height: @line-height-base;
	z-index: @zindex-dropdown;
	.ai1ec-modal-open & {
		z-index: @zindex-dropdown + @zindex-modal-background;
	}
}
.select2-results {
	margin: 4px 0;
	padding: 0;
	.select2-no-results,
	.select2-searching,
	.select2-selection-limit {
		background-color: mix( @text-color, @body-bg, 10% );
	}
}
.select2-result {
	margin: 0;
}
.select2-search-choice-close {
	top: 3px;
}
.select2-container,
.select2-drop {
	.ai1ec-color-swatch,
	.ai1ec-color-swatch-empty {
		width: 7px;
		height: 7px;
	}
}

// ========================
// = Namespaced overrides =
// ========================
.timely {
	// ================
	// = Extra Resets =
	// ================

	// Copied from scaffolding body reset, with additions; needed to apply to
	// .timely, not body.
	font-family: @font-family-base;
	font-size: @font-size-base;
	font-weight: 300;
	line-height: @line-height-base;
	color: @text-color;

	h4 {
		font-size: 16px;
		line-height: @line-height-base * 1.5;
	}
	hr {
		margin: 14px 0;
	}

	// Forms
	.ai1ec-help-block {
		color: #777;
	}
	fieldset {
		.ai1ec-well;
		.ai1ec-well-sm;
		background-color: mix( @body-bg, @text-color, 96% );
		margin: 0 0 @line-height-base;
		position: relative;
		top: @line-height-base / 3;
		:last-child {
			margin-bottom: 0;
		}
	}
	legend {
		background: mix( @body-bg, @text-color, 96% );
		border: 1px solid #eee;
		border: 1px solid rgba(0, 0, 0, 0.05);
		border-radius: 3px;
		.ai1ec-box-shadow( inset 0 1px 1px rgba(0, 0, 0, 0.05) );
		.ai1ec-box-sizing( border-box );
		margin: 0;
		padding: 3px 6px;
		font-size: @font-size-base;
		line-height: @line-height-base;
	}

	// Form for ics feeds tab and Facebook tab
	#ai1ec-feeds-after input:focus,
	.ai1ec_submit_wrapper input:focus,
	.ai1ec_file_upload_tags_categories input:focus {
		border-color: none;
		box-shadow: none;
		outline: none;
	}

	// Code
	pre {
		overflow: auto;
		white-space: nowrap;
	}

	// Restore WP styles.
	a.button-primary {
		color: #fff;
		&:hover {
			color: #EAF2FA;
			text-decoration: none;
		}
	}
	input[type="text"] {
		height: 28px;
		line-height: 28px;
	}
	input[type="file"] {
		border: 0;
		height: auto;
		line-height: inherit;
		padding: 0;
	}
	.ai1ec-facebook-multiselect {
		width: 100%;
		color: black;
	}

	// Custom font input
	input[id$="_custom"] {
		margin-left: 7px;
	}
}

// AJAX loaders
.ai1ec-loader-icon {
	background: url('../img/ajax-loader.gif') no-repeat center center;
	display: inline-block;
	height: 32px;
	width: 32px;
	vertical-align: bottom;
}
.ai1ec-loader-icon-small {
	background: url('../img/ajax-loader-small.gif') no-repeat center center;
	display: inline-block;
	height: 16px;
	width: 16px;
	vertical-align: bottom;
}

// Tooltip triggers
.ai1ec-tooltip-toggle {
	cursor: help;
	border-bottom: 1px dotted @gray-light;
}

// =======================================================================
// = Modal open status tracking (adapted from earlier ver. of Bootstrap) =
// =======================================================================
// Recalculate z-index where appropriate
.ai1ec-modal-open {
	.ai1ec-dropdown-menu {
		z-index: @zindex-dropdown + @zindex-modal-background !important;
	}
	.ai1ec-dropdown.ai1ec-open {
		*z-index: @zindex-dropdown + @zindex-modal-background !important;
	}
	.ai1ec-popover {
		z-index: @zindex-popover  + @zindex-modal-background !important;
	}
	.ai1ec-tooltip {
		z-index: @zindex-tooltip  + @zindex-modal-background !important;
	}
}

// =============================================================================
// = Category colors (should be synced with vortex/less/style.less)            =
// =============================================================================

.ai1ec-color-swatch,
.ai1ec-color-swatch-empty {
	display: inline-block;
	height: 6px;
	margin: 0 1px;
	padding: 1px;
	width: 6px;
}
.ai1ec-color-swatch {
	border-radius: 4px;
	border-color: rgba(0,0,0,0.5);
	.ai1ec-opacity( 0.8 );
}

// =============================================================================
// = Gmaps Autocomplete results (should be synced with vortex/less/style.less) =
// =============================================================================

.ai1ec-geo-ac-results-not-ready {
	// Hide by default (using a hiding attribute unused by the library).
	// Only show once we have had a chance to do some markup-based styling in JS.
	visibility: hidden;
}
.ai1ec-geo-ac-results {
	img {
		float: left;
		margin-right: 5px;
	}
	.ai1ec-dropdown-menu {
		display: block;
		width: 275px;
		li {
			clear: left;
			color: @dropdown-link-color;
			cursor: pointer;
			margin: 2px 0;
			padding: 0 5px;
			&:hover {
				color: @dropdown-link-hover-color;
				background-color: @dropdown-link-hover-bg;
			}
		}
	}
	.ai1ec-modal-open & {
		z-index: @zindex-dropdown + @zindex-modal-background;
	}
}
