timely.define(["jquery_timely","scripts/calendar_feeds/ics/ics_utility_functions","libs/utils"],function(e,t,n){var r=function(t){var n=e("#ai1ec_add_new_ics"),r=e("#ai1ec_feed_url");n.removeAttr("disabled"),t.error?window.alert(t.message):(r.val(""),e("#ai1ec-feeds-after").after(t.message))},i=function(r){var i=e("input[value="+r.ics_id+"]");r.error?t.restore_normal_state_after_unsuccesful_delete(i):t.remove_feed_from_dom(i);var s=r.error===!0?"error":"success",o=n.make_alert(r.message,s);e("#ics-alerts").append(o)},s=function(t){var r=e("input[value="+t.ics_id+"]").closest(".ai1ec-feed-container"),i;t.error?i=n.make_alert(t.message,"error"):i=n.make_alert(t.message,"success"),e("#ics-alerts").append(i),e(".ai1ec_update_ics",r).removeAttr("disabled"),e(".ajax-loading",r).css("visibility","hidden")};return{handle_add_new_ics:r,handle_delete_ics:i,handle_update_ics:s}});