{{ navigation | raw }}

<table class="ai1ec-oneday-view-original">
	<thead>
		<tr>
			{% for day in cell_array %}
				<th scope="col" class="ai1ec-weekday
					{% if day.today %}ai1ec-today{% endif %}">

{% block weekday_html %}
	<span class="ai1ec-weekday-date">{{ date | day }}</span>
	<span class="ai1ec-weekday-day">{{ date | weekday }}</span>
{% endblock weekday_html %}

					{% block weekday_html %}
						<span class="ai1ec-weekday-date">{{ day.day }}</span>
						<span class="ai1ec-weekday-day">{{ day.weekday }}</span>
					{% endblock weekday_html %}

{% block indent_multiplier 16 %}

					{% if loop.first %}
						<div class="ai1ec-allday-label">{{ text_all_day }}</div>
					{% endif %}

					{% for event in day.allday %}
						<a href="{{ event.get_runtime( 'instance_permalink' ) | e('html_attr') }}"
							{{ data_type_events | raw }}
							data-instance-id="{{ event.instance_id }}"
							class="ai1ec-event-container ai1ec-load-event ai1ec-popup-trigger
								ai1ec-event-id-{{ event.post_id }}
								ai1ec-event-instance-id-{{ event.instance_id }}
								ai1ec-allday
								{% if event.is_multiday %}ai1ec-multiday{% endif %}"
							>
							<div class="ai1ec-event"
								 style="{{ event.color_style | e('html_attr') }}">
								<span class="ai1ec-event-title">
									{{ event.filtered_title }}
								</span>
							</div>
						</a>

						{% block event_popup %}
						{% endblock event_popup %}

					{% endfor %} {# event in day.allday #}

				</td>
			{% endfor %} {# event in day.weekday #}
		</tr>
	</thead>
	<tbody>
		<tr class="ai1ec-oneday">
			{% for day in cell_array %}
				<td {% if day.today %}class="ai1ec-today"{% endif %}>today

					{% if loop.first %}
						<div class="ai1ec-grid-container">
							{% for h, hour in hours %}
								<div class="ai1ec-hour-marker
									{% if h >= 8 and h < 18 %}ai1ec-business-hour{% endif %}"
									style="top: {{ h * 60 }}px;">
									<div>
										{{ hour | raw }}
									</div>
								</div>
								{% for quarter in 1..3 %}
									<div class="ai1ec-quarter-marker"
										style="top: {{ h * 60 + quarter * 15 }}px;"></div>
								{% endfor %}
							{% endfor %}
							{% if day.today %}
								<div class="ai1ec-now-marker" style="top: {{ now_top }}px;">
									<div>
										{{ text_now_label }} {{ now_text }}
									</div>
								</div>
							{% endif %}
						</div>
					{% endif %}

					<div class="ai1ec-day">

						{% for day_array in day.notallday %}
							{% set event = day_array.event %}
							<a href="{{ event.get_runtime( 'instance_permalink' ) | e('html_attr') }}"
								{{ data_type_events | raw }}
								data-instance-id="{{ event.get( 'instance_id' ) }}"
								class="ai1ec-event-container ai1ec-load-event ai1ec-popup-trigger
									ai1ec-event-id-{{ event.get( 'post_id' ) }}
									ai1ec-event-instance-id-{{ event.get( 'instance_id' ) }}
									{% if event.get( 'start_truncated' ) %}ai1ec-start-truncated{% endif %}
									{% if event.get( 'end_truncated' ) %}ai1ec-end-truncated{% endif %}
									{% if event.get( '_orig' ).is_multiday %}ai1ec-multiday{% endif %}"
								style="top: {{ day_array.top }}px;
									height: {{ day_array.height }}px;
									left: {{ day_array.indent * block( 'indent_multiplier' ) + block( 'indent_offset' ) }}px;
									{{ event.get_runtime( 'color_style' ) }}
									{% set faded_color = event.get_runtime( 'faded_color' ) %}
									{% set rgba_color  = event.get_runtime( 'rgba_color' ) %}
									{% if faded_color is not empty %}
										{% set rgba1 = rgba_color | format( '0.05' ) %}
										{% set rgba3 = rgba_color | format( '0.3' ) %}
										border: 1px solid {{ faded_color }};
										border-color: {{ rgba_color | format( '0.5' ) }};
										background-image: -webkit-linear-gradient( top, {{ rgba1 }}, {{ rgba3 }} 50px );
										background-image: -moz-linear-gradient( top, {{ rgba1 }}, {{ rgba3 }} 50px );
										background-image: -ms-linear-gradient( top, {{ rgba1 }}, {{ rgba3 }} 50px );
										background-image: -o-linear-gradient( top, {{ rgba1 }}, {{ rgba3 }} 50px );
										background-image: linear-gradient( top, {{ rgba1 }}, {{ rgba3 }} 50px );
									{% endif %}
									">

								{% if event.get( 'start_truncated' ) %}
									<div class="ai1ec-start-truncator">◤</div>
								{% endif %}
								{% if event.get( 'end_truncated' ) %}
									<div class="ai1ec-end-truncator">◢</div>
								{% endif %}

								<div class="ai1ec-event">
									<span class="ai1ec-event-time">
										{{ event.get_runtime( 'short_start_time' ) }}
									</span>
									<span class="ai1ec-event-title">
										{{ event.get_runtime( 'filtered_title' ) | raw }}
										{% if show_location_in_title and event.get( 'venue' ) is not empty %}
											<span class="ai1ec-event-location"
												>{{ text_venue_separator | format( event.get( 'venue' ) ) }}</span>
										{% endif %}
									</span>
								</div>

							</a>

							{{ block( 'event_popup' ) }}

						{% endfor %} {# dayarray in day.notallday #}
					</div>
					
				</td>
			{% endfor %} {# day in cell_array #}
		</tr>
	</tbody>

</table>

<div class="ai1ec-pull-left">{{ pagination_links | raw }}</div>
